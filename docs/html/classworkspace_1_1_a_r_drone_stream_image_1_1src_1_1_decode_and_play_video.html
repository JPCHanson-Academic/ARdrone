<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Life of 3.14159: workspace.ARDroneStreamImage.src.DecodeAndPlayVideo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Life of 3.14159
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for workspace.ARDroneStreamImage.src.DecodeAndPlayVideo:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video__coll__graph.png" border="0" usemap="#workspace_8_a_r_drone_stream_image_8src_8_decode_and_play_video_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a624f3e1761b2d9490b78c089fab0c447"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a624f3e1761b2d9490b78c089fab0c447">main</a> (String[] args)  throws IOException </td></tr>
<tr class="separator:a624f3e1761b2d9490b78c089fab0c447"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a6db6d52da537beedda90a3fa39ce85af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6db6d52da537beedda90a3fa39ce85af">updateJavaWindow</a> (BufferedImage javaImage)</td></tr>
<tr class="separator:a6db6d52da537beedda90a3fa39ce85af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49a37446f884c860002ed73ae145601"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#aa49a37446f884c860002ed73ae145601">openJavaWindow</a> ()</td></tr>
<tr class="separator:aa49a37446f884c860002ed73ae145601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63333fed325f6ec886cf76f9704cf6f0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a63333fed325f6ec886cf76f9704cf6f0">closeJavaWindow</a> ()</td></tr>
<tr class="separator:a63333fed325f6ec886cf76f9704cf6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b64105523009d77a348998cce13aa15"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a4b64105523009d77a348998cce13aa15">dumpImageToFile</a> (BufferedImage image)</td></tr>
<tr class="separator:a4b64105523009d77a348998cce13aa15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a6ba754690ce0697ca5b6873615f96f02"><td class="memItemLeft" align="right" valign="top">static VideoImage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6ba754690ce0697ca5b6873615f96f02">mScreen</a> = null</td></tr>
<tr class="separator:a6ba754690ce0697ca5b6873615f96f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Takes a media container, finds the first video stream, decodes that stream, and then displays the video frames, at the frame-rate specified by the container, on a window.</p>
<dl class="section author"><dt>Author</dt><dd>aclarke </dd></dl>

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00047">47</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a63333fed325f6ec886cf76f9704cf6f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.closeJavaWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Forces the swing thread to terminate; I'm sure there is a right way to do this in swing, but this works too. </p>

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00315">315</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

<p>Referenced by <a class="el" href="_decode_and_play_video_8java_source.html#l00061">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                          {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="comment">// dumpImageToFile(bui);</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// System.out.println(&quot;Here&quot;);</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        System.exit(0);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a63333fed325f6ec886cf76f9704cf6f0_icgraph.png" border="0" usemap="#classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a63333fed325f6ec886cf76f9704cf6f0_icgraph" alt=""/></div>
<map name="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a63333fed325f6ec886cf76f9704cf6f0_icgraph" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a63333fed325f6ec886cf76f9704cf6f0_icgraph">
<area shape="rect" id="node2" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a624f3e1761b2d9490b78c089fab0c447" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.main" alt="" coords="321,5,585,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4b64105523009d77a348998cce13aa15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static String workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.dumpImageToFile </td>
          <td>(</td>
          <td class="paramtype">BufferedImage&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00321">321</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

<p>Referenced by <a class="el" href="_decode_and_play_video_8java_source.html#l00061">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                                               {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            String outputFilename = <span class="stringliteral">&quot;c:\\temp\\temp.png&quot;</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            ImageIO.write(image, <span class="stringliteral">&quot;png&quot;</span>, <span class="keyword">new</span> File(outputFilename));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">return</span> outputFilename;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        } <span class="keywordflow">catch</span> (IOException e) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            e.printStackTrace();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a4b64105523009d77a348998cce13aa15_icgraph.png" border="0" usemap="#classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a4b64105523009d77a348998cce13aa15_icgraph" alt=""/></div>
<map name="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a4b64105523009d77a348998cce13aa15_icgraph" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a4b64105523009d77a348998cce13aa15_icgraph">
<area shape="rect" id="node2" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a624f3e1761b2d9490b78c089fab0c447" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.main" alt="" coords="328,5,592,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a624f3e1761b2d9490b78c089fab0c447"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.main </td>
          <td>(</td>
          <td class="paramtype">String[]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td> throws IOException</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes a media container (file) as the first argument, opens it, opens up a Swing window and displays video frames with <em>roughly</em> the right timing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Must contain one string which represents a filename </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IOException</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>We could just display the images as quickly as we decode them, but it turns out we can decode a lot faster than you think.</p>
<p>So instead, the following code does a poor-man's version of trying to match up the frame-rate requested for each IVideoPicture with the system clock time on your computer.</p>
<p>Remember that all Xuggler IAudioSamples and IVideoPicture objects always give timestamps in Microseconds, relative to the first decoded item. If instead you used the packet timestamps, they can be in different units depending on your IContainer, and IStream and things can get hairy quickly.</p>

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00061">61</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

<p>References <a class="el" href="_decode_and_play_video_8java_source.html#l00315">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.closeJavaWindow()</a>, <a class="el" href="_decode_and_play_video_8java_source.html#l00321">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.dumpImageToFile()</a>, <a class="el" href="_decode_and_play_video_8java_source.html#l00307">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.openJavaWindow()</a>, and <a class="el" href="_decode_and_play_video_8java_source.html#l00300">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.updateJavaWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                                                              {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">         * if (args.length &lt;= 0) throw new</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">         * IllegalArgumentException(&quot;must pass in a filename&quot; +</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">         * &quot; as the first argument&quot;);</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">// String filename = args[0];</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        String filename = <span class="stringliteral">&quot;/dev/null&quot;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="comment">// Let&#39;s make sure that we can actually convert video pixel formats.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">if</span> (!IVideoResampler</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                .isSupported(IVideoResampler.Feature.FEATURE_COLORSPACECONVERSION))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(<span class="stringliteral">&quot;you must install the GPL version&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                    + <span class="stringliteral">&quot; of Xuggler (with IVideoResampler support) for &quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    + <span class="stringliteral">&quot;this demo to work&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">// Create a Xuggler container object</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        IContainer container = IContainer.make();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment">// Open up the container</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">// if (container.open(filename, IContainer.Type.READ, null) &lt; 0)</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="comment">// throw new IllegalArgumentException(&quot;could not open file: &quot; +</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">// filename);</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        Socket socket_video_tcp = <span class="keyword">new</span> Socket(<span class="stringliteral">&quot;192.168.1.1&quot;</span>, 5555);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (container.open(socket_video_tcp.getInputStream(), null) &lt; 0)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="stringliteral">&quot;EEEkkkk&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="comment">// query how many streams the call to open found</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordtype">int</span> numStreams = container.getNumStreams();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="comment">// and iterate through the streams to find the first video stream</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordtype">int</span> videoStreamId = -1;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        IStreamCoder videoCoder = null;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numStreams; i++) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="comment">// Find the stream object</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            IStream stream = container.getStream(i);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="comment">// Get the pre-configured decoder that can decode this stream;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            IStreamCoder coder = stream.getStreamCoder();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">if</span> (coder.getCodecType() == ICodec.Type.CODEC_TYPE_VIDEO) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                videoStreamId = i;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                videoCoder = coder;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (videoStreamId == -1)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    <span class="stringliteral">&quot;could not find video stream in container: &quot;</span> + filename);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">         * Now we have found the video stream in this file. Let&#39;s open up our</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">         * decoder so it can do work.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (videoCoder.open() &lt; 0)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <span class="stringliteral">&quot;could not open video decoder for container: &quot;</span> + filename);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        IVideoResampler resampler = null;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">if</span> (videoCoder.getPixelType() != IPixelFormat.Type.BGR24) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="comment">// if this stream is not in BGR24, we&#39;re going to need to</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="comment">// convert it. The VideoResampler does that for us.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            resampler = IVideoResampler.make(videoCoder.getWidth(),</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    videoCoder.getHeight(), IPixelFormat.Type.BGR24,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    videoCoder.getWidth(), videoCoder.getHeight(),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    videoCoder.getPixelType());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">if</span> (resampler == null)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(<span class="stringliteral">&quot;could not create color space &quot;</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                        + <span class="stringliteral">&quot;resampler for: &quot;</span> + filename);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">         * And once we have that, we draw a window on screen</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#aa49a37446f884c860002ed73ae145601">openJavaWindow</a>();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">         * Now, we start walking through the container looking at each packet.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        IPacket packet = IPacket.make();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordtype">long</span> firstTimestampInStream = Global.NO_PTS;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordtype">long</span> systemClockStartTime = 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">while</span> (container.readNextPacket(packet) &gt;= 0) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">             * Now we have a packet, let&#39;s see if it belongs to our video stream</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (packet.getStreamIndex() == videoStreamId) {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">                 * We allocate a new picture to get the data out of Xuggler</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                IVideoPicture picture = IVideoPicture.make(</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        videoCoder.getPixelType(), videoCoder.getWidth(),</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        videoCoder.getHeight());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">while</span> (offset &lt; packet.getSize()) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="comment">/*</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">                     * Now, we decode the video, checking for any errors.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    <span class="keywordtype">int</span> bytesDecoded = videoCoder.decodeVideo(picture, packet,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                            offset);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="keywordflow">if</span> (bytesDecoded &lt; 0)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                <span class="stringliteral">&quot;got error decoding video in: &quot;</span> + filename);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    offset += bytesDecoded;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="comment">/*</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">                     * Some decoders will consume data in a packet, but will not</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">                     * be able to construct a full video picture yet. Therefore</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">                     * you should always check if you got a complete picture</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">                     * from the decoder</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">                     */</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="keywordflow">if</span> (picture.isComplete()) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        IVideoPicture newPic = picture;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                        <span class="comment">/*</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">                         * If the resampler is not null, that means we didn&#39;t</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">                         * get the video in BGR24 format and need to convert it</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">                         * into BGR24 format.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">                         */</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="keywordflow">if</span> (resampler != null) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            <span class="comment">// we must resample</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                            newPic = IVideoPicture.make(</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                    resampler.getOutputPixelFormat(),</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                    picture.getWidth(), picture.getHeight());</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                            <span class="keywordflow">if</span> (resampler.resample(newPic, picture) &lt; 0)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                        <span class="stringliteral">&quot;could not resample video from: &quot;</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                                                + filename);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        <span class="keywordflow">if</span> (newPic.getPixelType() != IPixelFormat.Type.BGR24)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                            <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(<span class="stringliteral">&quot;could not decode video&quot;</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                    + <span class="stringliteral">&quot; as BGR 24 bit data in: &quot;</span> + filename);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        <span class="keywordflow">if</span> (firstTimestampInStream == Global.NO_PTS) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                            <span class="comment">// This is our first time through</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                            firstTimestampInStream = picture.getTimeStamp();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                            <span class="comment">// get the starting clock time so we can hold up</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                            <span class="comment">// frames</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                            <span class="comment">// until the right time.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                            systemClockStartTime = System.currentTimeMillis();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                            <span class="keywordtype">long</span> systemClockCurrentTime = System</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                                    .currentTimeMillis();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                            <span class="keywordtype">long</span> millisecondsClockTimeSinceStartofVideo = systemClockCurrentTime</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                    - systemClockStartTime;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                            <span class="comment">// compute how long for this frame since the first</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                            <span class="comment">// frame in the</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                            <span class="comment">// stream.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                            <span class="comment">// remember that IVideoPicture and IAudioSamples</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                            <span class="comment">// timestamps are</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                            <span class="comment">// always in MICROSECONDS,</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                            <span class="comment">// so we divide by 1000 to get milliseconds.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                            <span class="keywordtype">long</span> millisecondsStreamTimeSinceStartOfVideo = (picture</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                    .getTimeStamp() - firstTimestampInStream) / 1000;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                            <span class="keyword">final</span> <span class="keywordtype">long</span> millisecondsTolerance = 50; <span class="comment">// and we</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                                    <span class="comment">// give</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                                                    <span class="comment">// ourselfs</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                                                                    <span class="comment">// 50 ms of</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                                                    <span class="comment">// tolerance</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                            <span class="keyword">final</span> <span class="keywordtype">long</span> millisecondsToSleep = (millisecondsStreamTimeSinceStartOfVideo - (millisecondsClockTimeSinceStartofVideo + millisecondsTolerance));</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                            <span class="keywordflow">if</span> (millisecondsToSleep &gt; 0) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                    Thread.sleep(millisecondsToSleep);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                } <span class="keywordflow">catch</span> (InterruptedException e) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                                    <span class="comment">// we might get this when the user closes</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                    <span class="comment">// the dialog box, so</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                    <span class="comment">// just return from the method.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        <span class="comment">// And finally, convert the BGR24 to an Java buffered</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <span class="comment">// image</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        BufferedImage javaImage = Utils</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                .videoPictureToImage(newPic);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                        <span class="comment">// bui = Utils.videoPictureToImage(newPic);</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        <span class="comment">// and display it on the Java Swing window</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        <span class="keywordflow">if</span> (count == 100) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                            <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a4b64105523009d77a348998cce13aa15">dumpImageToFile</a>(javaImage);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                            count = 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                        <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6db6d52da537beedda90a3fa39ce85af">updateJavaWindow</a>(javaImage);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        count++;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                <span class="comment">/*</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">                 * This packet isn&#39;t part of our video stream, so we just</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">                 * silently drop it.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                } <span class="keywordflow">while</span> (<span class="keyword">false</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">         * Technically since we&#39;re exiting anyway, these will be cleaned up by</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">         * the garbage collector... but because we&#39;re nice people and want to be</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">         * invited places for Christmas, we&#39;re going to show how to clean up.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (videoCoder != null) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            videoCoder.close();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            videoCoder = null;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> (container != null) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            container.close();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            container = null;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a63333fed325f6ec886cf76f9704cf6f0">closeJavaWindow</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_a63333fed325f6ec886cf76f9704cf6f0"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a63333fed325f6ec886cf76f9704cf6f0">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.closeJavaWindow</a></div><div class="ttdeci">static void closeJavaWindow()</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00315">DecodeAndPlayVideo.java:315</a></div></div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_a4b64105523009d77a348998cce13aa15"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a4b64105523009d77a348998cce13aa15">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.dumpImageToFile</a></div><div class="ttdeci">static String dumpImageToFile(BufferedImage image)</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00321">DecodeAndPlayVideo.java:321</a></div></div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_a6db6d52da537beedda90a3fa39ce85af"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6db6d52da537beedda90a3fa39ce85af">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.updateJavaWindow</a></div><div class="ttdeci">static void updateJavaWindow(BufferedImage javaImage)</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00300">DecodeAndPlayVideo.java:300</a></div></div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_aa49a37446f884c860002ed73ae145601"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#aa49a37446f884c860002ed73ae145601">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.openJavaWindow</a></div><div class="ttdeci">static void openJavaWindow()</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00307">DecodeAndPlayVideo.java:307</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a624f3e1761b2d9490b78c089fab0c447_cgraph.png" border="0" usemap="#classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a624f3e1761b2d9490b78c089fab0c447_cgraph" alt=""/></div>
<map name="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a624f3e1761b2d9490b78c089fab0c447_cgraph" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a624f3e1761b2d9490b78c089fab0c447_cgraph">
<area shape="rect" id="node2" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a63333fed325f6ec886cf76f9704cf6f0" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.closeJavaWindow" alt="" coords="323,5,591,47"/><area shape="rect" id="node3" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a4b64105523009d77a348998cce13aa15" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.dumpImageToFile" alt="" coords="320,71,595,112"/><area shape="rect" id="node4" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#aa49a37446f884c860002ed73ae145601" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.openJavaWindow" alt="" coords="324,136,591,177"/><area shape="rect" id="node5" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6db6d52da537beedda90a3fa39ce85af" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.updateJavaWindow" alt="" coords="317,201,597,243"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa49a37446f884c860002ed73ae145601"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.openJavaWindow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Opens a Swing window on screen. </p>

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00307">307</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

<p>Referenced by <a class="el" href="_decode_and_play_video_8java_source.html#l00061">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                                         {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6ba754690ce0697ca5b6873615f96f02">mScreen</a> = <span class="keyword">new</span> VideoImage();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    }</div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_a6ba754690ce0697ca5b6873615f96f02"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6ba754690ce0697ca5b6873615f96f02">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.mScreen</a></div><div class="ttdeci">static VideoImage mScreen</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00298">DecodeAndPlayVideo.java:298</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_aa49a37446f884c860002ed73ae145601_icgraph.png" border="0" usemap="#classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_aa49a37446f884c860002ed73ae145601_icgraph" alt=""/></div>
<map name="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_aa49a37446f884c860002ed73ae145601_icgraph" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_aa49a37446f884c860002ed73ae145601_icgraph">
<area shape="rect" id="node2" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a624f3e1761b2d9490b78c089fab0c447" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.main" alt="" coords="320,5,584,47"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6db6d52da537beedda90a3fa39ce85af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.updateJavaWindow </td>
          <td>(</td>
          <td class="paramtype">BufferedImage&#160;</td>
          <td class="paramname"><em>javaImage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00300">300</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

<p>Referenced by <a class="el" href="_decode_and_play_video_8java_source.html#l00061">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.main()</a>.</p>
<div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                                                  {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6ba754690ce0697ca5b6873615f96f02">mScreen</a>.setImage(javaImage);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="ttc" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_html_a6ba754690ce0697ca5b6873615f96f02"><div class="ttname"><a href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a6ba754690ce0697ca5b6873615f96f02">workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.mScreen</a></div><div class="ttdeci">static VideoImage mScreen</div><div class="ttdef"><b>Definition:</b> <a href="_decode_and_play_video_8java_source.html#l00298">DecodeAndPlayVideo.java:298</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a6db6d52da537beedda90a3fa39ce85af_icgraph.png" border="0" usemap="#classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a6db6d52da537beedda90a3fa39ce85af_icgraph" alt=""/></div>
<map name="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a6db6d52da537beedda90a3fa39ce85af_icgraph" id="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video_a6db6d52da537beedda90a3fa39ce85af_icgraph">
<area shape="rect" id="node2" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html#a624f3e1761b2d9490b78c089fab0c447" title="workspace.ARDroneStreamImage.src.\lDecodeAndPlayVideo.main" alt="" coords="333,5,597,47"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6ba754690ce0697ca5b6873615f96f02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VideoImage workspace.ARDroneStreamImage.src.DecodeAndPlayVideo.mScreen = null</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The window we'll draw the video on. </p>

<p>Definition at line <a class="el" href="_decode_and_play_video_8java_source.html#l00298">298</a> of file <a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_decode_and_play_video_8java_source.html">DecodeAndPlayVideo.java</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceworkspace.html">workspace</a></li><li class="navelem"><a class="el" href="namespaceworkspace_1_1_a_r_drone_stream_image.html">ARDroneStreamImage</a></li><li class="navelem"><a class="el" href="namespaceworkspace_1_1_a_r_drone_stream_image_1_1src.html">src</a></li><li class="navelem"><a class="el" href="classworkspace_1_1_a_r_drone_stream_image_1_1src_1_1_decode_and_play_video.html">DecodeAndPlayVideo</a></li>
    <li class="footer">Generated on Sat May 23 2015 23:19:24 for Life of 3.14159 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
